"use strict";(self.webpackChunkreact_kabzda_1=self.webpackChunkreact_kabzda_1||[]).push([[166],{5166:function(n,e,s){s.r(e),s.d(e,{default:function(){return L}});var r=s(5671),t=s(3144),o=s(136),i=s(3668),u=s(7581),a=s(2938),l=s(2791),c="users_usersRoot__yELL6",g="users_userAvatar__Ta99e",p="users_follow__VbFQE",f="users_usersDescr__9Gi5Q",h="users_usersName__5oxAV",d=s(885),_="paginator_pageWrapper__2J0fX",P="paginator_page__KblsJ",m="paginator_selectedPage__mk9SE",x="paginator_btn__B1V4T",j=s(184),v=function(n){for(var e=n.currentPage,s=n.onPageChanged,r=n.totalItemsCount,t=n.pageSize,o=n.portionSize,i=Math.ceil(r/t),u=[],a=1;a<=i;a++)u.push(a);var c=Math.ceil(i/o),g=(0,l.useState)(1),p=(0,d.Z)(g,2),f=p[0],h=p[1],v=(f-1)*o+1,w=f*o;return(0,j.jsxs)("div",{className:_,children:[f>1&&(0,j.jsx)("button",{className:x,onClick:function(){return h(f-1)},children:" prev "}),u.filter((function(n){return n>=v&&n<=w})).map((function(n,r){return(0,j.jsx)("span",{onClick:function(){s(n)},className:e===n?m:P,children:n},r)})),f<c&&(0,j.jsx)("button",{className:x,onClick:function(){return h(f+1)},children:"next"})]})},w=s(4353),C=s(3504),b=function(n){var e=n.user,s=n.isAuth,r=n.following,t=n.followingInProgress,o=n.unfollowing;return(0,j.jsxs)("div",{children:[(0,j.jsxs)("span",{children:["`",(0,j.jsx)("div",{children:(0,j.jsx)(C.OL,{to:"/profile/"+e.id,children:(0,j.jsx)("img",{src:null!=e.photos.small?e.photos.small:w,className:g,alt:"photo"})})}),(0,j.jsx)("div",{className:p,children:e.followed?(0,j.jsx)("button",{disabled:!s||t.some((function(n){return n===e.id})),onClick:function(){o(e.id)},children:"Unfollow"}):(0,j.jsx)("button",{disabled:!s||t.some((function(n){return n===e.id})),onClick:function(){r(e.id)},children:"Follow"})})]}),(0,j.jsxs)("span",{children:[(0,j.jsx)("div",{className:h,children:e.name}),(0,j.jsx)("div",{className:f,children:e.status})]}),(0,j.jsxs)("span",{children:[(0,j.jsx)("div",{className:f,children:"user.location.city"}),(0,j.jsx)("div",{className:f,children:"user.location.country"})]})]})},k=function(n){var e=n.users,s=n.isAuth,r=n.currentPage,t=n.following,o=n.followingInProgress,i=n.onPageChanged,u=n.pageSize,a=n.totalUsersCount,l=n.unfollowing;return(0,j.jsxs)("div",{className:c,children:[(0,j.jsx)(v,{currentPage:r,onPageChanged:i,totalItemsCount:a,pageSize:u,portionSize:10}),e.map((function(n,e){return(0,j.jsx)(b,{user:n,isAuth:s,following:t,followingInProgress:o,unfollowing:l},e)}))]})},z=(s(1548),s(7781)),A=function(n){return n.usersPage.totalUsersCount},S=function(n){return n.usersPage.users},N=function(n){return n.usersPage.pageSize},U=function(n){return n.usersPage.currentPage},Z=function(n){return n.usersPage.isFetching},y=function(n){return n.usersPage.followingInProgress},I=function(n){return n.auth.isAuth},F=s(4823),D=function(n){(0,o.Z)(s,n);var e=(0,i.Z)(s);function s(){var n;(0,r.Z)(this,s);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(n=e.call.apply(e,[this].concat(o))).onPageChanged=function(e){var s=n.props.pageSize;n.props.getUsers(e,s),n.props.setCurrentPage(e)},n}return(0,t.Z)(s,[{key:"componentDidMount",value:function(){var n=this.props,e=n.currentPage,s=n.pageSize;this.props.getUsers(e,s)}},{key:"render",value:function(){return(0,j.jsxs)(j.Fragment,{children:[this.props.isFetching?(0,j.jsx)(F.g,{}):null,(0,j.jsx)(k,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,users:this.props.users,unfollowing:this.props.unfollowing,following:this.props.following,onPageChanged:this.onPageChanged,followingInProgress:this.props.followingInProgress,isAuth:this.props.isAuth})]})}}]),s}(l.Component),L=(0,z.qC)((0,u.$j)((function(n){return{users:S(n),pageSize:N(n),totalUsersCount:A(n),currentPage:U(n),isFetching:Z(n),followingInProgress:y(n),isAuth:I(n)}}),{following:a.mG,unfollowing:a.aL,setCurrentPage:a.D4,setUsersTotalCount:a.bz,getUsers:a.Rf}))(D)},1548:function(n,e,s){s.d(e,{D:function(){return f}});var r=s(8683),t=s(5671),o=s(3144),i=s(136),u=s(3668),a=s(2791),l=s(6871),c=s(7581),g=s(184),p=function(n){return{isAuth:n.auth.isAuth}},f=function(n){var e=function(e){(0,i.Z)(a,e);var s=(0,u.Z)(a);function a(){return(0,t.Z)(this,a),s.apply(this,arguments)}return(0,o.Z)(a,[{key:"render",value:function(){return this.props.isAuth?(0,g.jsx)(n,(0,r.Z)({},this.props)):(0,g.jsx)(l.Fg,{replace:!0,to:"/login"})}}]),a}(a.Component);return(0,c.$j)(p)(e)}},4353:function(n,e,s){n.exports=s.p+"static/media/user.4ce1ce10ce20ffcefb44.png"}}]);
//# sourceMappingURL=166.4fcfb350.chunk.js.map
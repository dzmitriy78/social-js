{"version":3,"file":"static/js/166.4fcfb350.chunk.js","mappings":"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","sources":["webpack://react-kabzda-1/./src/components/Users/users.module.css?9211","webpack://react-kabzda-1/./src/components/common/paginator.module.css?2028","components/common/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","hoc/withAuthRedirect.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"usersRoot\":\"users_usersRoot__yELL6\",\"userAvatar\":\"users_userAvatar__Ta99e\",\"follow\":\"users_follow__VbFQE\",\"usersDescr\":\"users_usersDescr__9Gi5Q\",\"usersName\":\"users_usersName__5oxAV\"};","// extracted by mini-css-extract-plugin\nexport default {\"pageWrapper\":\"paginator_pageWrapper__2J0fX\",\"page\":\"paginator_page__KblsJ\",\"selectedPage\":\"paginator_selectedPage__mk9SE\",\"btn\":\"paginator_btn__B1V4T\"};","import styles from \"./paginator.module.css\";\r\nimport React, {useState} from \"react\";\r\n\r\nlet Paginator = ({currentPage, onPageChanged, totalItemsCount, pageSize, portionSize}) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize)\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    let rightPortionPageNumber = portionNumber * portionSize\r\n\r\n    return <div className={styles.pageWrapper}>\r\n        {portionNumber > 1 &&\r\n            <button className={styles.btn} onClick={() => setPortionNumber(portionNumber - 1)}> prev </button>}\r\n        {pages\r\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map((p, i) => {\r\n                return <span key={i} onClick={() => {\r\n                    onPageChanged(p)\r\n                }} className={currentPage === p ? styles.selectedPage : styles.page}>{p}</span>\r\n            })}\r\n        {portionNumber < portionCount\r\n            && <button className={styles.btn} onClick={() => setPortionNumber(portionNumber + 1)}>next</button>}\r\n    </div>\r\n}\r\nexport default Paginator;","import styles from \"./users.module.css\";\r\nimport UserPhoto from \"../../assets/images/user.png\";\r\nimport React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet User = ({\r\n                user,\r\n                isAuth,\r\n                following,\r\n                followingInProgress,\r\n                unfollowing\r\n            }) => {\r\n\r\n    return <div>\r\n\r\n                <span>`\r\n                      <div>\r\n                          <NavLink to={\"/profile/\" + user.id}>\r\n                        <img src={user.photos.small != null ? user.photos.small : UserPhoto} className={styles.userAvatar}\r\n                             alt={\"photo\"}/>\r\n                          </NavLink>\r\n                      </div>\r\n                    <div className={styles.follow}>\r\n                        {user.followed ?\r\n                            <button disabled={!isAuth || followingInProgress\r\n                                .some(id => id === user.id)} onClick={() => {\r\n                                unfollowing(user.id)\r\n                            }}>Unfollow</button>\r\n\r\n                            : <button disabled={!isAuth || followingInProgress\r\n                                .some(id => id === user.id)} onClick={() => {\r\n                                following(user.id)\r\n                            }}>Follow</button>}\r\n                      </div>\r\n                </span>\r\n        <span>\r\n                    <div className={styles.usersName}>{user.name}</div>\r\n                    <div className={styles.usersDescr}>{user.status}</div>\r\n                </span>\r\n        <span>\r\n                    <div className={styles.usersDescr}>{\"user.location.city\"}</div>\r\n                    <div className={styles.usersDescr}>{\"user.location.country\"}</div>\r\n                </span>\r\n    </div>\r\n}\r\nexport default User;","import styles from \"./users.module.css\";\r\nimport React from \"react\";\r\nimport Paginator from \"../common/Paginator\";\r\nimport User from \"./User\";\r\n\r\nlet Users = ({\r\n                 users,\r\n                 isAuth,\r\n                 currentPage,\r\n                 following,\r\n                 followingInProgress,\r\n                 onPageChanged,\r\n                 pageSize,\r\n                 totalUsersCount,\r\n                 unfollowing\r\n             }) => {\r\n\r\n    return <div className={styles.usersRoot}>\r\n        <Paginator currentPage={currentPage}\r\n                   onPageChanged={onPageChanged}\r\n                   totalItemsCount={totalUsersCount}\r\n                   pageSize={pageSize}\r\n                   portionSize={10}\r\n        />\r\n        {\r\n            users.map((u, i) => <User key={i}\r\n                                      user={u}\r\n                                      isAuth={isAuth}\r\n                                      following={following}\r\n                                      followingInProgress={followingInProgress}\r\n                                      unfollowing={unfollowing}\r\n            />)\r\n        }\r\n    </div>\r\n}\r\nexport default Users;","export const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\nexport const requestUsers = (state) => {\r\n    return state.usersPage.users\r\n}\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n}\r\nexport const getIsAuth = (state) => {\r\n    return state.auth.isAuth\r\n}\r\n","import {connect} from \"react-redux\";\r\nimport {following, getUsers, setCurrentPage, setUsersTotalCount, unfollowing} from \"../../redux/users-reducer\";\r\nimport React from \"react\";\r\nimport Users from \"./Users\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage, getFollowingInProgress, getIsAuth,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    requestUsers\r\n} from \"../../redux/users-selectors\";\r\nimport {ProgressBarDemo} from \"../common/Preloader/ProgressBar\";\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props\r\n        this.props.getUsers(currentPage, pageSize)\r\n    }\r\n\r\n    onPageChanged = (numberPage) => {\r\n        const {pageSize} = this.props\r\n        this.props.getUsers(numberPage, pageSize)\r\n        this.props.setCurrentPage(numberPage);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <ProgressBarDemo/> : null}\r\n            <Users\r\n                totalUsersCount={this.props.totalUsersCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                users={this.props.users}\r\n                unfollowing={this.props.unfollowing}\r\n                following={this.props.following}\r\n                onPageChanged={this.onPageChanged}\r\n                followingInProgress={this.props.followingInProgress}\r\n                isAuth={this.props.isAuth}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: requestUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        isAuth: getIsAuth(state)\r\n    }\r\n\r\n    /*{\r\n        users: state.usersPage.users,\r\n        pageSize: state.usersPage.pageSize,\r\n        totalUsersCount: state.usersPage.totalUsersCount,\r\n        currentPage: state.usersPage.currentPage,\r\n        isFetching: state.usersPage.isFetching,\r\n        followingInProgress: state.usersPage.followingInProgress,\r\n        isAuth: state.auth.isAuth\r\n    }*/\r\n\r\n}\r\n\r\nexport default compose(\r\n    /*withAuthRedirect,*/\r\n    connect(mapStateToProps, {\r\n        following, unfollowing, setCurrentPage, setUsersTotalCount, getUsers\r\n    }))(UsersContainer)","import React from 'react';\r\nimport {Navigate} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n        isAuth: state.auth.isAuth\r\n    }\r\n)\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Navigate replace to=\"/login\"/>\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n\r\n    return connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n}"],"names":["currentPage","onPageChanged","totalItemsCount","pageSize","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","styles","onClick","filter","p","map","user","isAuth","following","followingInProgress","unfollowing","to","id","src","photos","small","UserPhoto","alt","followed","disabled","some","name","status","users","totalUsersCount","u","getTotalUsersCount","state","usersPage","requestUsers","getPageSize","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","getIsAuth","auth","UsersContainer","numberPage","props","getUsers","setCurrentPage","this","ProgressBar","React","compose","connect","setUsersTotalCount","mapStateToPropsForRedirect","withAuthRedirect","Component","RedirectComponent","replace"],"sourceRoot":""}
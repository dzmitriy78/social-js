"use strict";(self.webpackChunkreact_kabzda_1=self.webpackChunkreact_kabzda_1||[]).push([[923],{2730:function(t,e,s){s.d(e,{U:function(){return i},v:function(){return n}});var a=s(132),n=a.Ry().shape({email:a.Z_().email(),password:a.Z_().min(8,"Must be longer than 8 characters").required("Required")}),i=a.Ry().shape({text:a.Z_().min(2,"Must be longer than 2 characters").max(50,"Must be shorter than 50 characters").required("Required")})},4448:function(t,e,s){s(2791);var a=s(5705),n=s(6744),i=s(2730),r=s(184);e.Z=function(t){return(0,r.jsx)("div",{children:(0,r.jsx)(a.J9,{initialValues:{text:""},validate:function(t){var e={};return t.text||(e.text="Enter your post text"),e},onSubmit:function(e,s){var a=s.resetForm;t.callback(e),a({values:""})},validationSchema:i.U,children:function(){return(0,r.jsxs)(a.l0,{children:[(0,r.jsx)("div",{children:(0,r.jsx)(a.gN,{component:"textarea",name:"text",placeholder:"write a post"})}),(0,r.jsx)(a.Bc,{className:n.Z.error,name:"text",component:"div"}),(0,r.jsx)("button",{type:"submit",children:"Add post"})]})}})})}},9923:function(t,e,s){s.r(e),s.d(e,{ProfileURLMatch:function(){return b},default:function(){return N}});var a=s(5671),n=s(3144),i=s(136),r=s(3668),o=s(8683),u=s(2791),c="ProfileInfo_profileInfo__vKhrE",l="ProfileInfo_description__oZAN2",d=s(184),p=function(t){(0,i.Z)(s,t);var e=(0,r.Z)(s);function s(){var t;(0,a.Z)(this,s);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).state={editMode:!1,status:t.props.status},t.activateEditMode=function(){t.setState({editMode:!0})},t.deactivateEditMode=function(){t.setState({editMode:!1}),t.props.updateStatus(t.state.status)},t.onStatusChange=function(e){t.setState({status:e.currentTarget.value})},t}return(0,n.Z)(s,[{key:"componentDidUpdate",value:function(t,e,s){t.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return(0,d.jsxs)("div",{children:[!this.state.editMode&&(0,d.jsx)("div",{style:{marginLeft:10,fontSize:30,color:"green",fontStyle:"italic"},children:(0,d.jsx)("span",{onDoubleClick:this.activateEditMode,children:this.props.status||"no status"})}),this.state.editMode&&(0,d.jsx)("div",{children:(0,d.jsx)("input",{onChange:this.onStatusChange,autoFocus:!0,onBlur:this.deactivateEditMode,value:this.state.status})})]})}}]),s}(u.Component),h=p,f=function(t){var e=t.profile,s=t.status,a=t.updateStatus;return(0,d.jsxs)("div",{className:c,children:[(0,d.jsx)("div",{children:(0,d.jsx)("img",{src:"https://cdn-prod.medicalnewstoday.com/content/images/articles/325/325466/man-walking-dog.jpg",alt:"profileImg"})}),(0,d.jsx)("span",{className:l,children:(0,d.jsx)("img",{src:e.photos.small,alt:"no photo"})}),(0,d.jsx)(h,{status:s,updateStatus:a}),(0,d.jsx)("div",{className:l,children:(0,d.jsxs)("h3",{children:["  ","Name: "+e.fullName]})}),(0,d.jsx)("div",{className:l,children:"contacts: "+e.contacts.vk}),(0,d.jsx)("div",{className:l,children:"aboutMe: "+e.aboutMe})]})},m=s(6070),x=s(6744),v="Post_item__UC4MU",j="Post_btn__u74hK",g=function(t){var e=t.id,s=t.deletePost,a=t.message,n=t.likes;return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:v,children:[(0,d.jsx)("img",{src:"https://shapka-youtube.ru/wp-content/uploads/2021/02/avatarka-dlya-skaypa-dlya-parney.jpg",alt:11}),a,(0,d.jsx)("button",{className:j,onClick:function(){return s(e)},children:"x"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{children:"Likes:"}),n]})]})})},k=s(4448),_=s(7581),y=(0,_.$j)((function(t){return{postData:t.profilePage.postData,isAuth:t.auth.isAuth}}),(function(t){return{addPost:function(e){t((0,m.Wl)(e))},deletePost:function(e){t((0,m.fR)(e))}}}))((function(t){var e=function(e){t.deletePost(e)},s=t.postData.map((function(t,s){return(0,d.jsx)(g,{id:t.id,deletePost:e,message:t.message,likes:t.likeCount},s)}));return t.isAuth?(0,d.jsxs)("div",{className:x.Z.postsBlock,children:[(0,d.jsx)("h3",{children:"My posts"}),(0,d.jsx)(k.Z,{callback:function(e){t.addPost(e.text)}}),(0,d.jsx)("div",{className:x.Z.posts,children:s})]}):(0,d.jsx)("div",{})})),Z=function(t){var e=t.profile,s=t.status,a=t.updateStatus;return e?(0,d.jsxs)("div",{children:[(0,d.jsx)(f,{profile:e,status:s,updateStatus:a}),(0,d.jsx)(y,{})]}):(0,d.jsx)("div",{children:(0,d.jsx)("img",{src:"https://cdn-prod.medicalnewstoday.com/content/images/articles/325/325466/man-walking-dog.jpg",alt:"profileImg"})})},M=s(6871),S=s(7781),b=function(t){return function(e){var s=(0,M.bS)("/profile/:userId/");return(0,d.jsx)(t,(0,o.Z)((0,o.Z)({},e),{},{match:s}))}},P=function(t){(0,i.Z)(s,t);var e=(0,r.Z)(s);function s(){return(0,a.Z)(this,s),e.apply(this,arguments)}return(0,n.Z)(s,[{key:"componentDidMount",value:function(){var t=this.props.match?this.props.match.params.userId:this.props.meId;t&&(this.props.getProfile(t),this.props.getStatus(t))}},{key:"render",value:function(){return(0,d.jsx)(Z,(0,o.Z)((0,o.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),s}(u.Component),N=(0,S.qC)((0,_.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,meId:t.auth.userId,isAuth:t.auth.isAuth}}),{getProfile:m.Ai,getStatus:m.lR,updateStatus:m.Nf}),b)(P)},6744:function(t,e){e.Z={postsBlock:"MyPosts_postsBlock__+4lAR",posts:"MyPosts_posts__3D7nG",error:"MyPosts_error__1k-9Y"}}}]);
//# sourceMappingURL=923.e039b4ce.chunk.js.map